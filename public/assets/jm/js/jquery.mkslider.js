!function(a){jQuery.fn.mkslider=function(e){e=a.extend({autoTimeout:2e3,autoIcon:!0,autoIconPlay:"►",autoIconPause:"&#9646;&#9646;",animationTime:1e3,animationPerSlide:!0,arrows:!0,arrowNext:"→",arrowPrev:"←",navigator:!0,navigatorItemText:"●",externalNavigator:""},e);var r,i,t,s,d=!1,l=function(){r.hasClass("mkslider-play")?(d=!0,n(parseInt(r.attr("data-mkslider-slide"))+1),setTimeout(function(){l()},e.autoTimeout+e.animationTime)):d=!1},n=function(d){var l=Math.abs(parseInt(r.attr("data-mkslider-slide"))-d);d>=parseInt(r.attr("data-mkslider-slides"))?(d=1,a(r.find(".mkslider-slide:last")).insertBefore(r.find(".mkslider-slide:first")),i.css("left","0%"),l=1):d<0&&(d=0,a(r.find(".mkslider-slide:last")).insertBefore(r.find(".mkslider-slide:first")),i.css("left","-100%"),l=1),r.attr("data-mkslider-slide",d),t&&t.find(".mkslider-navigator-item.mkslider-navigator-item-current").removeClass("mkslider-navigator-item-current"),s&&s.find(".mkslider-external-navigator-item.mkslider-external-navigator-item-current").removeClass("mkslider-external-navigator-item-current"),i.stop().clearQueue().animate({left:-1*d*100+"%"},e.animationPerSlide?l*e.animationTime:e.animationTime,function(){var a=parseInt(i.find(".mkslider-slide").eq(d).attr("data-mkslider-slider-start-number"));t&&t.find(".mkslider-navigator-item").eq(a).addClass("mkslider-navigator-item-current"),s&&s.find(".mkslider-external-navigator-item").eq(a).addClass("mkslider-external-navigator-item-current");var e=!1;if("0"!=i.find(".mkslider-slide").eq(0).attr("data-mkslider-slider-start-number")){for(;!e;)"0"!=i.find(".mkslider-slide").eq(0).attr("data-mkslider-slider-start-number")?i.find(".mkslider-slide").eq(0).insertAfter(i.find(".mkslider-slide:last")):e=!0;var l=0==d?i.find("> *").length-1:0;i.css("left",-100*l+"%"),r.attr("data-mkslider-slide",l)}})};return this.each(function(){(r=a(this)).addClass("mkslider"),r.wrapInner('<div class="mkslider-content-inner-wrapper" />'),r.wrapInner('<div class="mkslider-content-outer-wrapper" />'),i=r.find(".mkslider-content-inner-wrapper");var o=r.find(".mkslider-content-outer-wrapper"),m=i.find("> *");m.addClass("mkslider-slide").css("width","100%"),r.attr("data-mkslider-slide",0),r.attr("data-mkslider-slides",m.length),i.css({width:100*m.length+"%",position:"relative"}),o.css({overflow:"hidden"});var k=function(){return r.removeClass("mkslider-play"),n(r.find(".mkslider-slide").index(r.find('.mkslider-slide[data-mkslider-slider-start-number="'+a(this).attr("data-mkslider-navigator")+'"]'))),!1};if(m.length>1){if(e.autoIcon){var c=a("<div>").addClass("mkslider-auto-icon").addClass("mkslider-auto-icon-play").html(e.autoIconPlay).on("click",function(){r.removeClass("mkslider-play")}),u=a("<div>").addClass("mkslider-auto-icon").addClass("mkslider-auto-icon-pause").html(e.autoIconPause).on("click",function(){r.addClass("mkslider-play"),d||l()}),v=a("<div>").addClass("mkslider-auto").append(c).append(u);r.append(v)}if(e.arrows){var f=function(){return r.removeClass("mkslider-play"),n(parseInt(r.attr("data-mkslider-slide"))+parseInt(a(this).attr("data-mkslider-arrow"))),!1},p=a("<div>").addClass("mkslider-arrow").addClass("mkslider-arrow-next").attr("data-mkslider-arrow",1).html(e.arrowNext).on("click",f),g=a("<div>").addClass("mkslider-arrow").addClass("mkslider-arrow-prev").attr("data-mkslider-arrow",-1).html(e.arrowPrev).on("click",f),C=a("<div>").addClass("mkslider-arrows").append(g).append(p);r.append(C)}e.navigator&&(t=a("<div>").addClass("mkslider-navigator"),r.append(t)),e.externalNavigator&&(s=a(e.externalNavigator))}m.each(function(r){if(a(this).css({width:100/m.length+"%",float:"left"}).attr("data-mkslider-slider-start-number",r),e.navigator&&m.length>1){var i=a("<div>").addClass("mkslider-navigator-item").attr("data-mkslider-navigator",r).html(e.navigatorItemText).on("click",k);0==r&&i.addClass("mkslider-navigator-item-current"),t.append(i)}e.externalNavigator&&m.length>1&&(s.find("> *").eq(r).addClass("mkslider-external-navigator-item").attr("data-mkslider-navigator",r).on("click",k),0==r&&s.find("> *").eq(r).addClass("mkslider-external-navigator-item-current"))}),d=e.auto,e.auto&&(r.addClass("mkslider-play"),setTimeout(function(){l()},e.autoTimeout))})}}(jQuery);